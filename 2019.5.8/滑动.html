<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
	<title></title>
	<style type="text/css">
		.box{
			width:100px;
			height:50px;
			background: red;
			transition: 1s;
		}
	</style>
</head>
<body>
	<div class="box"></div>
	<script>
		var box = document.querySelector('.box');
		
		// var x = null;
		// var y = null;
		// var endx = null;
		// var endy = null;
		// box.ontouchstart = function(ev){
		// 	ev = ev.changedTouches[0];
		// 	x = ev.pageX;
		// 	y = ev.pageY;
		// }
		
		// box.ontouchend = function(ev){
		// 	ev = ev.changedTouches[0];
		// 	endx = ev.pageX;
		// 	endy = ev.pageY;
		// 	
		// 	var disx = endx - x;
		// 	var disy = endy - y;
		// 	
		// 	if(disx>0){
		// 		//往右滑
		// 		box.style.transform = 'translateX(200px)';
		// 	}else if(disx == 0){
		// 		//点击了
		// 		box.style.transform = 'scale(3)';
		// 	}else{
		// 		//往左滑
		// 		box.style.transform = 'translateX(-50px)'
		// 	}
		// }
		swiper(box,'left',function(){
			box.style.transform = 'translateX(-50px)'
		})
		swiper(box,'right',function(){
			box.style.transform = 'translateX(100px)'
		})
		swiper(box,'down',function(){
			box.style.transform = 'translateY(150px)'
		})
		swiper(box,'up',function(){
			box.style.transform = 'translateY(-50px)'
		})
		
		function swiper(obj,direction,callback){
			var x = null;
			var y = null;
			obj.addEventListener('touchstart',function(ev){
				ev = ev.changedTouches[0];
				x = ev.pageX;
				y = ev.pageY;
				
			})
			obj.addEventListener('touchend',function(ev){
				ev = ev.changedTouches[0];
				var disx = ev.pageX - x;
				var disy = ev.pageY - y;
				
				//判断方向是垂直还是水平
				if(Math.abs(disx)>=Math.abs(disy)){
					//水平方向
					if(disx>0){
						//右滑
						if(direction == 'right'){
							callback();
						}
					}else{
						//左滑
						if(direction == 'left'){
							callback();
						}
					}
				}else{
					//垂直方向
					if(disy>0){
						//下滑
						if(direction == 'down'){
							callback();
						}
					}else{
						//上滑
						if(direction == 'up'){
							callback();
						}
					}
				}
			})
		}
	</script>
</body>
</html>
